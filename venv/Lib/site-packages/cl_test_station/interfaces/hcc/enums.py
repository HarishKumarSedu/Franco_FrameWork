"""
Enum definitions for HCC related arguments. Values and names pulled from HCC spec v2.1.3
author: Evan Canter <evan.canter@cirrus.com>
"""
from enum import Enum, unique
from cl_test_station.interfaces.ctrl_interface import ByteOrder


class HccCmd(Enum):
    """
    Defines the values of HCC_CMD from the HDR Phase. 1st byte is what goes on the bus, 2nd byte (DMAX_READ) is to
    differentiate DMAX_WRITE from DMAX_READ, since their HCC_CMD value is the same
    """
    NOOP = 0x000
    WBLK = 0x001
    RBLK = 0x002
    DMAX = 0x080

    def __int__(self):
        return self.value

@unique
class HccDMaxOps(Enum):
    WREG  = 0x1
    WFIFO = 0x2
    RREG  = 0x5
    RFIFO = 0x6

    def __int__(self):
        return self.value

@unique
class HccDMaxRegIncr(Enum):
    """
    Format is PLD_a_ADDR_b where:
    a is the number of consecutive payload Bytes written/read before an explicit memory adddres offset is applied
    b is the memory address offset
    """
    PLD_1_ADDR_1 = 0x0
    PLD_3_ADDR_4 = 0x1
    PLD_2_ADDR_4 = 0x2
    PLD_1_ADDR_4 = 0x3

    def __int__(self):
        return self.value

@unique
class HccDMaxFifoIncr(Enum):
    """
    Format is PLD_a_ADDR_0 where:
    a is the number of bytes from the payload written/read at a time to/from the FIFO
    """
    PLD_4_ADDR_0 = 0x0
    PLD_3_ADDR_0 = 0x1
    PLD_2_ADDR_0 = 0x2
    PLD_1_ADDR_0 = 0x3

    def __int__(self):
        return self.value
