from getpass import getpass
import sys
import os
import json
networks = sys.argv[1]
cred_file = sys.argv[2]
print("An internet connection is required to install numpy. Available networks:")
print(networks)
ssid = input("SSID of network you want to connect to: ")
internal = input("Is this a Cirrus internal network? [Y/n]") in ['y', 'Y', '']
if internal:  # Ask for username
    user = input("AD username:")
    pw = getpass('AD password:')
else:
    user = ''
    pw = getpass(f'password for "{ssid}":')

cred_file = os.path.normpath(cred_file)
with open(cred_file, 'w') as f:
    f.write(json.dumps({'ssid': ssid, 'user': user, 'pw': pw}))
