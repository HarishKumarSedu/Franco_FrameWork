# -----------------------------------------------------------
#                        TRIGGER
# -----------------------------------------------------------


class Trigger:
    def __init__(self, smu):
        self.smu = smu
        self.write = smu.write
        self.query = smu.query
        self.on_off = smu.on_off
        self.log_inst_errors = smu.log_inst_errors
        self.warning = smu.log.warning

    def initiate(self):
        """Starts the trigger model and then waits until the commands are complete to accept new commands.

        Use <smu>.trigger.abort to stop an executing trigger model.

        """
        self.write(':INIT')
        self.write('*WAI')

    def abort(self):
        """Step an executing trigger model and turns the source output_state "OFF'. """

        self.write('ABOR')
        self.smu.source.output_state('OFF')

# -----------------------------------------------------------
