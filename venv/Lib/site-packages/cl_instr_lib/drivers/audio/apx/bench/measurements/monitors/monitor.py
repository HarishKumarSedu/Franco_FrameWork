from cl_instr_lib.drivers.audio.apx.bench.measurements.result.graph_results.monitor_result import MonitorResult


class Monitor:
    """Base class for APx Bench Mode Monitors"""
    monitor_name = None
    result_name = None

    def __init__(self, apx):
        self._apx = apx
        self.result = MonitorResult(self, self.result_name)

    @property
    def api_ref(self):
        """
        Returns the APX API for this monitor. Property is needed because a cached reference becomes stale if settings
        are changed from the GUI.

        :return: apx reference to specific Monitor API
        :rtype: reference
        """
        return self._apx.api.BenchMode.Monitors.__getattribute__(self.monitor_name)
