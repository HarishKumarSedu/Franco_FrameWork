################################################################################
##
## Copyright (c) 2014-2015 Cirrus Logic International (UK) Ltd.  All rights reserved.
##
## This software as well as any related documentation is furnished under
## license and may only be used or copied in accordance with the terms of the
## license. The information in this file is furnished for informational use
## only, is subject to change without notice, and should not be construed as
## a commitment by Cirrus Logic International (UK) Ltd.  Cirrus Logic International
## (UK) Ltd assumes no responsibility or liability for any errors or inaccuracies
## that may appear in this document or any software that may be provided in
## association with this document.
##
## Except as permitted by such license, no part of this document may be
## reproduced, stored in a retrieval system, or transmitted in any form or by
## any means without the express written consent of Cirrus Logic International
## (UK) Ltd or affiliated companies.
##
### @file check_for_firmware.feature
### @brief Assert a particular firmware is loadable.
###
###
### @warning
###   This software is specifically written for Cirrus Logic devices.
###   It may not be used with other devices.
###
#################################################################################
#
# We should be able to assert that a particular firmware and version is available,
# check its version and load it.
#
###############################################################################
@firmware
Feature: We should be able to assert firmware is present and loadable.

    ###########################################################################
    #
    # Background
    #
    # First ensure that a device is connected.
    #
    ###########################################################################
    Background:
        Given I am connected to a device

    ###########################################################################
    #
    # Assert that a specific firmware and version is loaded successfully.
    #
    ###########################################################################
    Scenario: Specific firmware of particular version should be loaded successfully
        Given I have "Ez2 Control" revision 3.0

    ###########################################################################
    #
    # Assert that a specific firmware is loaded successfully.
    #
    ###########################################################################
    Scenario: Specific firmware should be loaded successfully
        Given I have "Ez2 Control"

    ###########################################################################
    #
    # Assert that after a firmware with no pre-requisites has been loaded,
    # then a firmware with pre-requisites has been loaded successfully.
    #
    ###########################################################################
    Scenario: Specific pre-requisites firmware should be loaded successfully
        Given I have "Ez2 Control"
        Given I have "Ez2 Control" revision 3.0 running

    ###########################################################################
    #
    # Assert that after a firmware with pre-requisites has been loaded,
    # then a firmware with no pre-requisites has been loaded successfully.
    #
    ###########################################################################
    Scenario: Specific no pre-requisites firmware should be loaded successfully
        Given I have "Ez2 Control" revision 3.0 running
        Given I have "Ez2 Control"

