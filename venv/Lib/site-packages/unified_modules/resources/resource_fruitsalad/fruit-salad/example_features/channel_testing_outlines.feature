################################################################################
###
### Copyright (c) 2015 Cirrus Logic International (UK) Ltd.  All rights reserved.
###
### This software as well as any related documentation is furnished under 
### license and may only be used or copied in accordance with the terms of the 
### license. The information in this file is furnished for informational use 
### only, is subject to change without notice, and should not be construed as 
### a commitment by Cirrus Logic International (UK) Ltd.  Cirrus Logic International
### (UK) Ltd assumes no responsibility or liability for any errors or inaccuracies
### that may appear in this document or any software that may be provided in
### association with this document. 
###
### Except as permitted by such license, no part of this document may be 
### reproduced, stored in a retrieval system, or transmitted in any form or by 
### any means without the express written consent of Cirrus Logic International
### (UK) Ltd or affiliated companies. 
###
### @file channel_testing_outlines.feature
### @brief Test each channel independently of one another using scenario outlines.
###
### @version \$Id: channel_testing_outlines.feature 946 2015-03-13 16:25:16Z aangus $
###
### @warning
###    This software is specifically written for Cirrus Logic devices.
###    It may not be used with other devices.
###
###############################################################################
#
# Test each channel independently of each other by disabling every channel and
# re-enabling only one at a time.
#
#################################################################################
@windows
Feature: Per-channel playback test using scenario outlines.

#################################################################################
#
# Check that the output can be silenced when muting both playback channels (part of DE1298).
#
###############################################################################
    Scenario Outline: We can explicitly mute both playback channels
        Given I am recording the output
        And playback left channel volume is 0
        And playback right channel volume is 0
        When I play a 1.5 kHz sine wave for 2 seconds using <Program>
        Then the output was silence
        
    Examples:
        | Program |
        | portaudio |
        | wmp |
        | metro |

###############################################################################
#
# Disable all playbackchannels except the right channel, and perform a simple 
# playback test.
#
###############################################################################
    Scenario Outline: Left playback channel should operate independently.
        Given I am recording the output
        And I playback to the right channel only
        When I play a 1 kHz sine wave for 2 seconds using <Program>
        Then the output was not silence
        And the output has frequency spectrum with peak at 1 kHz, error 0.5 Hz
        
    Examples:
        | Program |
        | portaudio |
        | wmp |
        | metro |

#################################### END OF FILE ##############################