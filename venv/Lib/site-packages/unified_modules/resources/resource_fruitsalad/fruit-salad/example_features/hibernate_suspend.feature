################################################################################
###
### Copyright (c) 2014 Wolfson Microelectronics plc.  All rights reserved.
###
### This software as well as any related documentation is furnished under 
### license and may only be used or copied in accordance with the terms of the 
### license. The information in this file is furnished for informational use 
### only, is subject to change without notice, and should not be construed as 
### a commitment by Wolfson Microelectronics plc. Wolfson Microelectronics plc
### assumes no responsibility or liability for any errors or inaccuracies that
### may appear in this document or any software that may be provided in
### association with this document. 
###
### Except as permitted by such license, no part of this document may be 
### reproduced, stored in a retrieval system, or transmitted in any form or by 
### any means without the express written consent of Wolfson Microelectronics plc. 
###
### @file hibernate_suspend.feature
### @brief Test whether we can resume successfully from a suspended power state.
###
### @version \$Id: hibernate_suspend.feature 523 2014-11-28 10:29:13Z emmas $
###
### Warning
###   This software is specifically written for Wolfson devices. It may not be
###   used with other devices.
###
#################################################################################
#
# We should be able to trigger hibernation/suspend states and then resume
# automatically after a period.
#
# This feature functions only on Windows.
#
###############################################################################
@windows
Feature: Hibernation and Suspend

    ###########################################################################
    #
    # Preconditions common to all scenarios in this file
    #
    ###########################################################################
    Background:
        Given I am recording the output

    ###########################################################################
    #
    # Suspend, wake up after about 10 seconds and then play a sine wave.
    #
    ###########################################################################
    Scenario: Suspend for 10 seconds
        When I suspend for 10 seconds
        And I play a 1 kHz sine wave for 2 seconds
        Then the output has frequency spectrum with peak at 1 kHz, error 0.5 Hz

    ###########################################################################
    #
    # Hibernate, wake up after about 10 seconds and then play a sine wave.
    #
    ###########################################################################
    Scenario: Hibernate for 10 seconds
        When I hibernate for 10 seconds
        And I play a 1 kHz sine wave for 2 seconds
        Then the output has frequency spectrum with peak at 1 kHz, error 0.5 Hz

##################################### END OF FILE #############################
