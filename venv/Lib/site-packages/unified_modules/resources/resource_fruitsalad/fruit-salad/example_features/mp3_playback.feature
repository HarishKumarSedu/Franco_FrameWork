###############################################################################
###
### Copyright (c) 2015 Cirrus Logic International (UK) Ltd.  All rights reserved.
###
### This software as well as any related documentation is furnished under 
### license and may only be used or copied in accordance with the terms of the 
### license. The information in this file is furnished for informational use 
### only, is subject to change without notice, and should not be construed as 
### a commitment by Cirrus Logic International (UK) Ltd.  Cirrus Logic International
### (UK) Ltd assumes no responsibility or liability for any errors or inaccuracies
### that may appear in this document or any software that may be provided in
### association with this document. 
###
### Except as permitted by such license, no part of this document may be 
### reproduced, stored in a retrieval system, or transmitted in any form or by 
### any means without the express written consent of Cirrus Logic International
### (UK) Ltd or affiliated companies. 
###
### @file mp3_playback.feature
### @brief basic smoke-test for windows media player playback using an mp3 source file
###
### @version \$Id: mp3_playback.feature 721 2015-01-19 14:50:22Z emmas $
###
### @warning
###    This software is specifically written for Cirrus Logic devices.
###    It may not be used with other devices.
###
###############################################################################
#
# Basic digital playback tests which check playback from various sources and
# verify recorded output.
#
#################################################################################

@windows
Feature: DigitalPlayback
    We should be able to playback a compressed audio file when using third party
    playback on Windows.

    ###########################################################################
    #
    # Capture the output for all tests in this file.
    #
    ###########################################################################
    Background:
        Given I am recording the output

    #############################################################################
    #
    # Play a test sound and verify that the output was non-silent. Use Windows
    # Media Player to do it.
    #
    #############################################################################
    Scenario: Playback from an mp3 using wmplayer.exe
        When I play the audio file "resources/test.mp3" using wmp
        Then the output was not silence

    ###########################################################################
    #
    # Play a test sound and verify that the output was non-silent. Use Metro
    # Media Player to do it.
    #
    ###########################################################################
    Scenario: Playback from an mp3 using metro
        When I play the audio file "resources/test.mp3" using metro
        Then the output was not silence

################################## END OF FILE ##################################
