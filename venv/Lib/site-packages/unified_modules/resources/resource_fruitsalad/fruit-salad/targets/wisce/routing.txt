*-------------------------------------------------------------------------------
* Cirrus Logic device configuration file
* Created by WISCE.exe utility version 3.7.0.3 at 8/22/2017 3:16:28 PM
*
* Devices on system: 
*   CS47L35 at SMBUS/0x34 
*   LN2 FPGA at SMBUS/0x44 
*-------------------------------------------------------------------------------

*-------------------------------------------------------------------------------
* Register operations have the following format:
*
*      <register> <value> <access_type> <action> [<dev_addr>] [<mask>]
*
* where:
*      <register>      is the register index
*      <value>         is the data value
*      <access_type>   is one of:
*          AC97_16_bit_data
*          3wire_9_bit_data
*          2wire_9_bit_data
*      <action>        is one of
*          Write         - write the given value
*          Read          - documents the value that was read
*          RModW         - read/modify/write
*                          (newval = (currval & ~<mask>) | <value>)
*      <dev_addr>      is the 2wire device address
*      <mask>          is the mask for the RModW operation
*
* for example:
*   R12  0x1234  AC97_16_bit_data Write
*     - this would write the hex value 0x1234 to register 12 (decimal)
*       using AC97
*
*   R36  0x1F5   2wire_9_bit_data Write 0x34
*     - this would write the hexadecimal value 0x1F5 to register
*       36 (decimal) on the 2-wire device at address 0x34 (hex)
*
*   0xC  4660    AC97_16_bit_data Write
*   0x24 501     2wire_9_bit_data Write 0x34
*     - these are the same two operations using hexadecimal registers
*       and decimal values
*
* Lines beginning with// are comments and are ignored when processing
* the file.
*
* The register index can be written either in decimal format, prefixed by 'R'
* or in hexadecimal format, prefixed by '0x'.
*
* For 9-bit 2- and 3-wire operations, <value> is the actual 9 bit register
* contents, NOT the 16 bit data word.
*
* Entries in a line can be separated by spaces or tabs. The amount of
* space between each entry does not matter but entries must be arranged
* in the correct order from left to right. A file can be created in a text
* editor (e.g. Notepad), or created in Excel and saved as .txt format
* (tab separated).
*
*-------------------------------------------------------------------------------

* ----- ------ -------------------- ------- --------- ------------------------------
*  REG   DATA         ACCESS        READ OR  DEVICE
* INDEX  VALUE         TYPE          WRITE   ADDRESS  COMMENT (for information only)
* ----- ------ -------------------- ------- --------- ------------------------------
* LOAD_FILE D:\SCH_share\kits\PB_Marley\CS47L35_SCH_PB_Config_LN2.txt
   0x01 0x0000 SMbus_16inx_16dat     Read   0x44      * Firmware ID0(01H):       0000  FIRMWARE_ID=0000_0000_0000_0000
   0x02 0x0001 SMbus_16inx_16dat     Read   0x44      * Firmware ID1(02H):       0001  FIRMWARE_ID=0000_0001
* LOAD_FILE C:\Program Files (x86)\Wolfson Evaluation Software\Profiles\Lochnagar2\L2_usb_to_cdc_aif1.txt
   0x1F 0x8003 SMbus_16inx_16dat     Write  0x44      * CDC_MCLK2_CTRL(1FH):     8003  CDC_MCLK2_ENA=1, CDC_MCLK2_SRC=0000_0011

* MCLK1 = USB MCLK (will switch from 24.576MHz to 22.579MHz depending on USB sample rate (ie 48k or 44.1k)
   0x1E 0x800A SMbus_16inx_16dat     Write  0x44      * CDC_MCLK1_CTRL(1EH):     800A  CDC_MCLK1_ENA=1, CDC_MCLK1_SRC=0000_1010

* CDC_AIF1 to USB channels 1-8 RX in Buffered High Frequency Mode (compensates for path delay at higher BCLK frequencies)
   0x19 0x9004 SMbus_16inx_16dat     Write  0x44      * USB_AIF_RX1_CTRL(19H):   9004  USB_AIF_RX1_ENA=1, USB_AIF_RX1_HS_ENA=1, USB_AIF_RX1_HS_STS=0, USB_AIF_RX1_SRC=0000_0100

* USB channels 1-8 TX to CDC_AIF1_RX
   0x0D 0xE00D SMbus_16inx_16dat     Write  0x44      * CDC_AIF1_CTRL(0DH):      E00D  CDC_AIF1_ENA=1, CDC_AIF1LRCLK_DIR=1, CDC_AIF1BCLK_DIR=1, CDC_AIF1_HS_ENA=0, CDC_AIF1_HS_STS=0, CDC_AIF1_SRC=0000_1101


*** FLL1 Config
*** 	24.576MHz input from MCLK1 -> 294.912MHz VCO output
***	Psuedo Integer Configuration
***	  _CLK_REF_DIV = 2 (div 4)
***	  _RATIO = 2 (div 3)
***	  _N, _THETA, _LAMBDA = 5 and 100/300
***	_GAIN = 0100 (x16)

  0x171 0x0000 SMbus_32inx_16dat     Write  0x34      * FLL1_Control_1(171H):    0000  FLL1_FREERUN=0, FLL1_ENA=0
  0x179 0x0010 SMbus_32inx_16dat     Write  0x34      * FLL1_Control_7(179H):    0010  FLL1_GAIN=0100
  0x17A 0x0306 SMbus_32inx_16dat     Write  0x34      * FLL1_EFS_2:    0010  FLL1_GAIN=0100
  0x176 0x0080 SMbus_32inx_16dat     Write  0x34      * FLL1_Control_6(176H):    0080  FLL1_CLK_REF_DIV=10, FLL1_CLK_REF_SRC=0000
  0x175 0x0203 SMbus_32inx_16dat     Write  0x34      * FLL1_Control_5(175H):    0203  FLL1_FRATIO=0010, FLL1_OUTDIV=011
  0x174 0x012C SMbus_32inx_16dat     Write  0x34      * FLL1_Control_4(174H):    012C  FLL1_LAMBDA=0000_0001_0010_1100
  0x173 0x0064 SMbus_32inx_16dat     Write  0x34      * FLL1_Control_3(173H):    0064  FLL1_THETA=0000_0000_0110_0100
  0x172 0x0005 SMbus_32inx_16dat     Write  0x34      * FLL1_Control_2(172H):    0005  FLL1_CTRL_UPD=0, FLL1_N=00_0000_0101
  0x171 0x0001 SMbus_32inx_16dat     Write  0x34      * FLL1_Control_1(171H):    0001  FLL1_FREERUN=0, FLL1_ENA=1

   
* Clocking Configuration
  0x102 0x0003 SMbus_32inx_16dat     Write  0x34      * Sample_rate_1(102H):     0003  SAMPLE_RATE_1=48kHz
  *0x102 0x0012 SMbus_32inx_16dat     Write  0x34      * Sample_rate_1(102H):     0003  SAMPLE_RATE_1=16kHz
  *0x102 0x000B SMbus_32inx_16dat     Write  0x34      * Sample_rate_1(102H):     0003  SAMPLE_RATE_1=44.1kHz
  0x101 0x0444 SMbus_32inx_16dat     Write  0x34      * System_Clock_1(101H):    0404  SYSCLK_FRAC=Integer Rate, SYSCLK_FREQ=98.304MHz, SYSCLK_ENA=1, SYSCLK_SRC=FLL1
  0x120 0x0444 SMbus_32inx_16dat     Write  0x34      * DSP_Clock_1(120H):       0444  DSP_CLK_FREQ_LEGACY=89.6MHz to 150MHz(147.456MHz), DSP_CLK_ENA=1, DSP_CLK_SRC=FLL1
   
   
* AIF1
  0x170E 0x2000 SMbus_32inx_16dat     Write  0x34      * GPIO8_CTRL_1(170EH):     2000  GP8_LVL=Low, GP8_OP_CFG=CMOS, GP8_DB=Enabled, GP8_POL=Non-inverted (Active High), GP8_FN=AIF1RXDAT
  0x170F 0x8000 SMbus_32inx_16dat     Write  0x34      * GPIO8_CTRL_2(170FH):     8000  GP8_DIR=Input, GP8_PU=0, GP8_PD=0, GP8_DRV_STR=0
  0x1710 0x2000 SMbus_32inx_16dat     Write  0x34      * GPIO9_CTRL_1(1710H):     2000  GP9_LVL=Low, GP9_OP_CFG=CMOS, GP9_DB=Enabled, GP9_POL=Non-inverted (Active High), GP9_FN=AIF1BCLK
  0x1711 0x8000 SMbus_32inx_16dat     Write  0x34      * GPIO9_CTRL_2(1711H):     8000  GP9_DIR=Input, GP9_PU=0, GP9_PD=0, GP9_DRV_STR=0
  0x1712 0x2000 SMbus_32inx_16dat     Write  0x34      * GPIO10_CTRL_1(1712H):    2000  GP10_LVL=Low, GP10_OP_CFG=CMOS, GP10_DB=Enabled, GP10_POL=Non-inverted (Active High), GP10_FN=AIF1TXDAT
  0x1713 0x8000 SMbus_32inx_16dat     Write  0x34      * GPIO10_CTRL_2(1713H):    8000  GP10_DIR=Input, GP10_PU=0, GP10_PD=0, GP10_DRV_STR=0
  0x1714 0x2000 SMbus_32inx_16dat     Write  0x34      * GPIO11_CTRL_1(1714H):    2000  GP11_LVL=Low, GP11_OP_CFG=CMOS, GP11_DB=Enabled, GP11_POL=Non-inverted (Active High), GP11_FN=AIF1LRCLK
  0x1715 0x8000 SMbus_32inx_16dat     Write  0x34      * GPIO11_CTRL_2(1715H):    8000  GP11_DIR=Input, GP11_PU=0, GP11_PD=0, GP11_DRV_STR=0
  0x500 0x000D SMbus_32inx_16dat     Write  0x34      * AIF1_BCLK_Ctrl(500H):    000D  AIF1_BCLK_INV=AIF1BCLK not inverted, AIF1_BCLK_FRC=Normal, AIF1_BCLK_MSTR=AIF1BCLK Slave mode, AIF1_BCLK_FREQ=3.072MHz (2.8824MHz)
  0x501 0x0000 SMbus_32inx_16dat     Write  0x34      * AIF1_Tx_Pin_Ctrl(501H):  0000  AIF1TX_DAT_TRI=Logic 0 during unused timeslots
  0x502 0x0000 SMbus_32inx_16dat     Write  0x34      * AIF1_Rx_Pin_Ctrl(502H):  0000  AIF1_LRCLK_ADV=Normal, AIF1_LRCLK_INV=AIF1LRCLK not inverted, AIF1_LRCLK_FRC=Normal, AIF1_LRCLK_MSTR=AIF1LRCLK Slave mode
  0x503 0x0000 SMbus_32inx_16dat     Write  0x34      * AIF1_Rate_Ctrl(503H):    0000  AIF1_RATE=SAMPLE_RATE_1, AIF1_TRI=Normal
  0x504 0x0002 SMbus_32inx_16dat     Write  0x34      * AIF1_Format(504H):       0002  AIF1_FMT=I2S mode
  0x507 0x1820 SMbus_32inx_16dat     Write  0x34      * AIF1_Frame_Ctrl_1(507H): 1820  AIF1TX_WL=24 bits, AIF1TX_SLOT_LEN=32 cycles
  0x508 0x1820 SMbus_32inx_16dat     Write  0x34      * AIF1_Frame_Ctrl_2(508H): 1820  AIF1RX_WL=24 bits, AIF1RX_SLOT_LEN=32 cycles
  0x519 0x0003 SMbus_32inx_16dat     Write  0x34      * AIF1_Tx_Enables(519H):   0003  AIF1TX6_ENA=0, AIF1TX5_ENA=0, AIF1TX4_ENA=0, AIF1TX3_ENA=0, AIF1TX2_ENA=1, AIF1TX1_ENA=1
  0x51A 0x0003 SMbus_32inx_16dat     Write  0x34      * AIF1_Rx_Enables(51AH):   0003  AIF1RX6_ENA=0, AIF1RX5_ENA=0, AIF1RX4_ENA=0, AIF1RX3_ENA=0, AIF1RX2_ENA=1, AIF1RX1_ENA=1

* MICVDD (CP2/LDO2 bypass)
  0x200 0x0007 SMbus_32inx_16dat     Write  0x34      * Mic_Charge_Pump_1(200H): 0007  CP2_DISCH=1, CP2_BYPASS=1, CP2_ENA=1

* HPOUT
  0x408 0x0000 SMbus_32inx_16dat     Write  0x34      * Output_Rate_1(408H):     0000  OUT_RATE=SAMPLE_RATE_1
  0x400 0x0003 SMbus_32inx_16dat     Write  0x34      * Output_Enables_1(400H):  0003  EP_SEL=0, OUT5L_ENA=0, OUT5R_ENA=0, SPKOUTL_ENA=0, HP1L_ENA=1, HP1R_ENA=1
  0x411 0x0080 SMbus_32inx_16dat     Write  0x34      * DAC_Digital_Volume_1L(411H): 0080  OUT_VU=0, OUT1L_MUTE=0, OUT1L_VOL=0dB
  0x415 0x0280 SMbus_32inx_16dat     Write  0x34      * DAC_Digital_Volume_1R(415H): 0280  OUT_VU=1, OUT1R_MUTE=0, OUT1R_VOL=0dB

* Digital audio routing
  0x700 0x0010 SMbus_32inx_16dat     Write  0x34      * AIF1TX1MIX_Input_1_Source(700H): 0010  AIF1TX1MIX_STS1=0, AIF1TX1MIX_SRC1=IN1L signal path
  0x708 0x0011 SMbus_32inx_16dat     Write  0x34      * AIF1TX2MIX_Input_1_Source(708H): 0011  AIF1TX2MIX_STS1=0, AIF1TX2MIX_SRC1=IN1R signal path


  0x9C0 0x0020 SMbus_32inx_16dat     Write  0x34      * DSP3LMIX_Input_1_Source(9C0H): 0020  DSP3LMIX_STS1=0, DSP3LMIX_SRC1=AIF1 RX1
  0x9C8 0x0021 SMbus_32inx_16dat     Write  0x34      * DSP3RMIX_Input_1_Source(9C8H): 0021  DSP3RMIX_STS1=0, DSP3RMIX_SRC1=AIF1 RX2
  0x680 0x0078 SMbus_32inx_16dat     Write  0x34      * OUT1LMIX_Input_1_Source(680H): 0078  OUT1LMIX_STS1=0, OUT1LMIX_SRC1=DSP3 channel 1
  0x688 0x0079 SMbus_32inx_16dat     Write  0x34      * OUT1RMIX_Input_1_Source(688H): 0079  OUT1RMIX_STS1=0, OUT1RMIX_SRC1=DSP3 channel 2
  0x1FFE06 0xFFF0001 SMbus_32inx_32dat     Read   0x34      * DSP3_Status_2(1FFE06H):  FFF0001  DSP3_DUALMEM_COLLISION_ADDR=0000_1111_1111_1111, DSP3_CLK_SEL_STS=5.5MHz to 9.375MHz, DSP3_CLK_AVAIL=1
  0x1FFE06 0xFFF0001 SMbus_32inx_32dat     Read   0x34      * DSP3_Status_2(1FFE06H):  FFF0001  DSP3_DUALMEM_COLLISION_ADDR=0000_1111_1111_1111, DSP3_CLK_SEL_STS=5.5MHz to 9.375MHz, DSP3_CLK_AVAIL=1
  0x1FFE00 0x0010 SMbus_32inx_32dat     Read   0x34      * [DEVICE+CACHE]DSP3_Config_1(1FFE00H):  0010  DSP3_CLK_SEL=5.5MHz to 9.375MHz, DSP3_RATE=SAMPLE_RATE_1, DSP3_MEM_ENA=1, DSP3_DBG_CLK_ENA=0, DSP3_SYS_ENA=0, DSP3_CORE_ENA=0, DSP3_START=0
  0x1FFE00 0x0010 SMbus_32inx_32dat     Write  0x34      * DSP3_Config_1(1FFE00H):  0010  DSP3_CLK_SEL=5.5MHz to 9.375MHz, DSP3_RATE=SAMPLE_RATE_1, DSP3_MEM_ENA=1, DSP3_DBG_CLK_ENA=0, DSP3_SYS_ENA=0, DSP3_CORE_ENA=0, DSP3_START=0
  0x1FFE00 0x40010 SMbus_32inx_32dat     Write  0x34      * DSP3_Config_1(1FFE00H):  40010  DSP3_CLK_SEL=75MHz to 150MHz, DSP3_RATE=SAMPLE_RATE_1, DSP3_MEM_ENA=1, DSP3_DBG_CLK_ENA=0, DSP3_SYS_ENA=0, DSP3_CORE_ENA=0, DSP3_START=0
  0x1FFE06 0xFFF0001 SMbus_32inx_32dat     Read   0x34      * DSP3_Status_2(1FFE06H):  FFF0001  DSP3_DUALMEM_COLLISION_ADDR=0000_1111_1111_1111, DSP3_CLK_SEL_STS=5.5MHz to 9.375MHz, DSP3_CLK_AVAIL=1
  0x1FFE06 0xFFF0001 SMbus_32inx_32dat     Read   0x34      * DSP3_Status_2(1FFE06H):  FFF0001  DSP3_DUALMEM_COLLISION_ADDR=0000_1111_1111_1111, DSP3_CLK_SEL_STS=5.5MHz to 9.375MHz, DSP3_CLK_AVAIL=1
  0x1FFE06 0xFFF0001 SMbus_32inx_32dat     Read   0x34      * DSP3_Status_2(1FFE06H):  FFF0001  DSP3_DUALMEM_COLLISION_ADDR=0000_1111_1111_1111, DSP3_CLK_SEL_STS=5.5MHz to 9.375MHz, DSP3_CLK_AVAIL=1
  0x1FFE06 0xFFF0001 SMbus_32inx_32dat     Read   0x34      * DSP3_Status_2(1FFE06H):  FFF0001  DSP3_DUALMEM_COLLISION_ADDR=0000_1111_1111_1111, DSP3_CLK_SEL_STS=5.5MHz to 9.375MHz, DSP3_CLK_AVAIL=1
  0x1FFE06 0xFFF0001 SMbus_32inx_32dat     Read   0x34      * DSP3_Status_2(1FFE06H):  FFF0001  DSP3_DUALMEM_COLLISION_ADDR=0000_1111_1111_1111, DSP3_CLK_SEL_STS=5.5MHz to 9.375MHz, DSP3_CLK_AVAIL=1
  0x1FFE06 0xFFF0001 SMbus_32inx_32dat     Read   0x34      * DSP3_Status_2(1FFE06H):  FFF0001  DSP3_DUALMEM_COLLISION_ADDR=0000_1111_1111_1111, DSP3_CLK_SEL_STS=5.5MHz to 9.375MHz, DSP3_CLK_AVAIL=1
  0x700 0x0000 SMbus_32inx_16dat     Write  0x34      * AIF1TX1MIX_Input_1_Source(700H): 0000  AIF1TX1MIX_STS1=0, AIF1TX1MIX_SRC1=Silence (mute)
  0x708 0x0000 SMbus_32inx_16dat     Write  0x34      * AIF1TX2MIX_Input_1_Source(708H): 0000  AIF1TX2MIX_STS1=0, AIF1TX2MIX_SRC1=Silence (mute)
* Finished LOAD_FILE D:\SCH_share\kits\PB_Marley\CS47L35_SCH_PB_Config_LN2.txt
  0x680 0x0000 SMbus_32inx_16dat     Write  0x34      * OUT1LMIX_Input_1_Source(680H): 0000  OUT1LMIX_STS1=0, OUT1LMIX_SRC1=Silence (mute)
  0x688 0x0000 SMbus_32inx_16dat     Write  0x34      * OUT1RMIX_Input_1_Source(688H): 0000  OUT1RMIX_STS1=0, OUT1RMIX_SRC1=Silence (mute)
  0x700 0x0078 SMbus_32inx_16dat     Write  0x34      * AIF1TX1MIX_Input_1_Source(700H): 0078  AIF1TX1MIX_STS1=0, AIF1TX1MIX_SRC1=DSP3 channel 1
  0x9C8 0x0000 SMbus_32inx_16dat     Write  0x34      * DSP3RMIX_Input_1_Source(9C8H): 0000  DSP3RMIX_STS1=0, DSP3RMIX_SRC1=Silence (mute)
  0x9C8 0x0020 SMbus_32inx_16dat     Write  0x34      * DSP3RMIX_Input_1_Source(9C8H): 0020  DSP3RMIX_STS1=0, DSP3RMIX_SRC1=AIF1 RX1

* DSP3 clock setup
  0x1FFE00 0x40018 SMbus_32inx_32dat     Write  0x34      * DSP3_Config_1(1FFE00H):  40018  DSP3_CLK_SEL=75MHz to 150MHz, DSP3_RATE=SAMPLE_RATE_1, DSP3_MEM_ENA=1, DSP3_DBG_CLK_ENA=1, DSP3_SYS_ENA=0, DSP3_CORE_ENA=0, DSP3_START=0
