*-------------------------------------------------------------------------------
* Wolfson Microelectronics device configuration file
* Created by WISCE utility at 12:02:38 on 2013-09-09
*
* Device type: WM5110
*-------------------------------------------------------------------------------

*-------------------------------------------------------------------------------
* Register operations have the following format:
*
*      <register> <value> <access_type> <action> [<dev_addr>] [<mask>]
*
* where:
*      <register>      is the register index
*      <value>         is the data value
*      <access_type>   is one of:
*          AC97_16_bit_data
*          3wire_9_bit_data
*          2wire_9_bit_data
*      <action>        is one of
*          Write         - write the given value
*          Read          - documents the value that was read
*          RModW         - read/modify/write
*                          (newval = (currval & ~<mask>) | <value>)
*      <dev_addr>      is the 2wire device address
*      <mask>          is the mask for the RModW operation
*
* for example:
*   R12  0x1234  AC97_16_bit_data Write
*     - this would write the hex value 0x1234 to register 12 (decimal)
*       using AC97
*
*   R36  0x1F5   2wire_9_bit_data Write 0x34
*     - this would write the hexadecimal value 0x1F5 to register
*       36 (decimal) on the 2-wire device at address 0x34 (hex)
*
*   0xC  4660    AC97_16_bit_data Write
*   0x24 501     2wire_9_bit_data Write 0x34
*     - these are the same two operations using hexadecimal registers
*       and decimal values
*
* Lines beginning with// are comments and are ignored when processing
* the file.
*
* The register index can be written either in decimal format, prefixed by 'R'
* or in hexadecimal format, prefixed by '0x'.
*
* For 9-bit 2- and 3-wire operations, <value> is the actual 9 bit register
* contents, NOT the 16 bit data word.
*
* Entries in a line can be separated by spaces or tabs. The amount of
* space between each entry does not matter but entries must be arranged
* in the correct order from left to right. A file can be created in a text
* editor (e.g. Notepad), or created in Excel and saved as .txt format
* (tab separated).
*
*-------------------------------------------------------------------------------

* ----- ------ -------------------- ------- --------- ------------------------------
*  REG   DATA         ACCESS        READ OR  DEVICE
* INDEX  VALUE         TYPE          WRITE   ADDRESS  COMMENT (for information only)
* ----- ------ -------------------- ------- --------- ------------------------------

   **************************************** SPDIF to CODEC **************************************************
   0x08 0x0001 SMbus_8_bit_data      Write  0x44      * CDC_AIF1_SEL(08H):       0001  CDC_AIF1_SRC=0000_0001
   0x09 0x0000 SMbus_8_bit_data      Write  0x44      * CDC_AIF2_SEL(09H):       0000  CDC_AIF2_SRC=0000_0000
   0x0A 0x0000 SMbus_8_bit_data      Write  0x44      * CDC_AIF3_SEL(0AH):       0000  CDC_AIF3_SRC=0000_0000
   0x0B 0x0001 SMbus_8_bit_data      Write  0x44      * CDC_MCLK1_SEL(0BH):      0001  CDC_MCLK1_SRC=0000_0001
   0x0C 0x0006 SMbus_8_bit_data      Write  0x44      * CDC_MCLK2_SEL(0CH):      0000  CDC_MCLK2_SRC=0000_0006
   0x0D 0x0007 SMbus_8_bit_data      Write  0x44      * CDC_AIF_CTRL1(0DH):      0007  CDC_AIF2LRCLK_DIR=0, CDC_AIF2BCLK_DIR=0, CDC_AIF2_ENA=0, CDC_AIF1LRCLK_DIR=1, CDC_AIF1BCLK_DIR=1, CDC_AIF1_ENA=1
   0x0E 0x0003 SMbus_8_bit_data      Write  0x44      * CDC_AIF_CTRL2(0EH):      0002  CDC_AIF3LRCLK_DIR=0, CDC_AIF3BCLK_DIR=0, CDC_AIF3_ENA=0, CDC_MCLK1_ENA=1, CDC_MCLK2_ENA=1
   0x0F 0x0008 SMbus_8_bit_data      Write  0x44      * EXT_AIF_CTRL(0FH):       0008  SPDIF_AIF_ENA=1, USB_AIF_ENA=0
   0x10 0x0000 SMbus_8_bit_data      Write  0x44      * DSP_AIF1_SEL(10H):       0000  DSP_AIF1_SRC=0000_0000
   0x11 0x0000 SMbus_8_bit_data      Write  0x44      * DSP_AIF2_SEL(11H):       0000  DSP_AIF2_SRC=0000_0000
   0x12 0x0000 SMbus_8_bit_data      Write  0x44      * DSP_CLK_SEL(12H):        0000  DSP_CLK_SRC=0000_0000
   0x13 0x0000 SMbus_8_bit_data      Write  0x44      * DSP_AIF(13H):            0000  DSP_AIF2LRCLK_DIR=0, DSP_AIF2BCLK_DIR=0, DSP_AIF2_ENA=0, DSP_AIF1LRCLK_DIR=0, DSP_AIF1BCLK_DIR=0, DSP_AIF1_ENA=0
   0x14 0x0000 SMbus_8_bit_data      Write  0x44      * GF_AIF1(14H):            0000  GF_CDC_AIF1_LRCLK_DIR=0, GF_CDC_AIF1_BCLK_DIR=0, GF_CDC_AIF1_ENA=0, GF_DSP_AIF1_LRCLK_DIR=0, GF_DSP_AIF1_BCLK_DIR=0, GF_DSP_AIF1_ENA=0
   0x15 0x0000 SMbus_8_bit_data      Write  0x44      * GF_AIF2(15H):            0000  GF_CDC_AIF2_LRCLK_DIR=0, GF_CDC_AIF2_BCLK_DIR=0, GF_CDC_AIF2_ENA=0, GF_DSP_AIF2_LRCLK_DIR=0, GF_DSP_AIF2_BCLK_DIR=0, GF_DSP_AIF2_ENA=0
   0x16 0x0000 SMbus_8_bit_data      Write  0x44      * PSIA_AIF(16H):           0000  PSIA2_MCLK_DIR=0, PSIA2_LRCLK_DIR=0, PSIA2_BCLK_DIR=0, PSIA2_AIF_ENA=0, PSIA1_MCLK_DIR=0, PSIA1_LRCLK_DIR=0, PSIA1_BCLK_DIR=0, PSIA1_AIF_ENA=0
   0x17 0x0000 SMbus_8_bit_data      Write  0x44      * PSIA1_RX_SEL(17H):       0000  PSIA1_RX_SRC=0000_0000
   0x18 0x0000 SMbus_8_bit_data      Write  0x44      * PSIA2_RX_SEL(18H):       0000  PSIA2_RX_SRC=0000_0000
   0x19 0x0004 SMbus_8_bit_data      Write  0x44      * SPDIF_RX_SEL(19H):       0004  SPDIF_RX_SRC=0000_0100

   * Disable clocks
   0x101 0x0404 SMbus_32inx_16dat     Write  0x34      * System_Clock_1(101H):    0404  SYSCLK_FRAC=SYSCLK is a multiple of 6.144MHz, SYSCLK_FREQ=98.304MHz (90.3168MHz), SYSCLK_ENA=0, SYSCLK_SRC=FLL1

   ********************* FLL set-up *********************  // 12.288MHz from MCLK1
   0x171   0x0000   SMbus_32inx_16dat   Write   0x34    * Disable FLL
   0x179   0x0000   SMbus_32inx_16dat   Write   0x34    * FLLn_GAIN=1
   0x176   0x0080   SMbus_32inx_16dat   Write   0x34    * REFCLK_DIV=4, REFCLK_SRC=MCLK1
   0x175   0x0204   SMbus_32inx_16dat   Write   0x34    * FRATIO=3, OUTDIV=2
   0x174   0x0003   SMbus_32inx_16dat   Write   0x34    * Lambda=3
   0x173   0x0001   SMbus_32inx_16dat   Write   0x34    * Theta=1
   0x172   0x0005   SMbus_32inx_16dat   Write   0x34    * N=5
   0x171   0x0001   SMbus_32inx_16dat   Write   0x34    * Enable FLL

   ************************************* Enable clocks ***************************************
   0x101 0x0644 SMbus_32inx_16dat     Write  0x34      * System Clock 1(101H):    0644  SYSCLK_FRAC=Integer Rate, SYSCLK_FREQ=147.456MHz (135.4752MHz), SYSCLK_ENA=1, SYSCLK_SRC=FLL1

   * Enable Charge pump
   0x200 0x0005 SMbus_32inx_16dat Write 0x34 * Mic Charge Pump 1(200H): 0005 CP2_DISCH=1, CP2_BYPASS=0, CP2_ENA=1

   * Route IN2  to headphone output 1 (debug hearing of trigger phrase)
   0x415 0x0280 SMbus_32inx_16dat     Write  0x34      * DAC Digital Volume 1R(415H): 0280  OUT_VU=1, OUT1R_MUTE=0, OUT1R_VOL=0dB
   0x411 0x0280 SMbus_32inx_16dat     Write  0x34      * DAC Digital Volume 1L(411H): 0280  OUT_VU=1, OUT1L_MUTE=0, OUT1L_VOL=0dB
   0x400 0x0003 SMbus_32inx_16dat     Write  0x34      * Output Enables 1(400H):  0003  OUT6L_ENA=0, OUT6R_ENA=0, OUT5L_ENA=0, OUT5R_ENA=0, SPKOUTL_ENA=0, SPKOUTR_ENA=0, HP3L_ENA=0, HP3R_ENA=0, HP2L_ENA=0, HP2R_ENA=0, HP1L_ENA=1, HP1R_ENA=1
   0x688 0x0013 SMbus_32inx_16dat     Write  0x34      * OUT1RMIX Input 1 Source(688H): 0013  OUT1RMIX_STS1=0, OUT1RMIX_SRC1=IN2R
   0x680 0x0012 SMbus_32inx_16dat     Write  0x34      * OUT1LMIX Input 1 Source(680H): 0012  OUT1LMIX_STS1=0, OUT1LMIX_SRC1=IN2L

   * Enable analog input audio from IN2
   0x300 0x000C SMbus_32inx_16dat     Write  0x34      * Input Enables(300H):     000C  IN4L_ENA=0, IN4R_ENA=0, IN3L_ENA=0, IN3R_ENA=0, IN2L_ENA=1, IN2R_ENA=1, IN1L_ENA=0, IN1R_ENA=0
   0x319 0x2280 SMbus_32inx_16dat     Write  0x34      * ADC_Digital_Volume_2L(319H): 2280  IN2L_SRC=Single-ended (IN2ALP), IN_VU=1, IN2L_MUTE=0, IN2L_VOL=0dB
   0x31D 0x2280 SMbus_32inx_16dat     Write  0x34      * ADC_Digital_Volume_2R(31DH): 2280  IN2R_SRC=Single-ended (IN2ARP), IN_VU=1, IN2R_MUTE=0, IN2R_VOL=0dB

   * Set the input sample rate to 16kHz
   0x102 0x0012 SMbus_32inx_16dat     Write  0x34      * Sample rate 1(102H):     0012  SAMPLE_RATE_1=16kHz
   0x103 0x0012 SMbus_32inx_16dat     Write  0x34      * Sample rate 2(103H):     0012  SAMPLE_RATE_2=16kHz
