# encoding: utf-8
################################################################################
### Copyright (c) 2015 Cirrus Logic International (UK) Ltd.  All rights reserved.
###
### This software as well as any related documentation is furnished under
### license and may only be used or copied in accordance with the terms of the
### license. The information in this file is furnished for informational use
### only, is subject to change without notice, and should not be construed as
### a commitment by Cirrus Logic International (UK) Ltd.  Cirrus Logic International
### (UK) Ltd assumes no responsibility or liability for any errors or inaccuracies
### that may appear in this document or any software that may be provided in
### association with this document.
###
### Except as permitted by such license, no part of this document may be
### reproduced, stored in a retrieval system, or transmitted in any form or by
### any means without the express written consent of Cirrus Logic International
### (UK) Ltd or affiliated companies.
###
### @file   AQMWrapper.rb
### @brief  Wrapper for object-code implementation of audio comparison algotrithm.
###
### @warning
###   This software is specifically written for Cirrus Logic devices.
###   It may not be used with other devices.
################################################################################

require 'ffi'

################################################################################
#
# Wrapper for shared library object that comparison analysis of output file
# with respect to reference file.
#
################################################################################
module AqmWrapper
    extend FFI::Library
    ffi_lib ["AQM_wrapper"]

    attach_function :Init, :init, [:pointer, :int ], :int
    attach_function :Open, :open, [ ], :int
    attach_function :WriteData, :writeData, [:pointer, :pointer ], :int
    attach_function :ReadData, :readData, [:pointer ], :string
    attach_function :Close, :close, [ ], :int
end