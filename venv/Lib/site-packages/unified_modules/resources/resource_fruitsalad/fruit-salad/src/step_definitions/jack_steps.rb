###############################################################################
###
### Copyright (c) 2014-2015 Cirrus Logic International (UK) Ltd.  All rights reserved.
###
### This software as well as any related documentation is furnished under
### license and may only be used or copied in accordance with the terms of the
### license. The information in this file is furnished for informational use
### only, is subject to change without notice, and should not be construed as
### a commitment by Cirrus Logic International (UK) Ltd.  Cirrus Logic International
### (UK) Ltd assumes no responsibility or liability for any errors or inaccuracies
### that may appear in this document or any software that may be provided in
### association with this document.
###
### Except as permitted by such license, no part of this document may be
### reproduced, stored in a retrieval system, or transmitted in any form or by
### any means without the express written consent of Cirrus Logic International
### (UK) Ltd or affiliated companies.
###
### @file jack_steps.rb
### @brief Step definitions for configuring the jack status as part of a test
###
### @version \$Id: jack_steps.rb 827 2015-02-03 10:22:41Z emmas $
###
### @warning
###    This software is specifically written for Cirrus Logic devices.
###    It may not be used with other devices.
###
###############################################################################
#
# There is presently no sensible mechanism for connecting and disconnecting
# cables without user interaction, however we can place those operations in the
# context of an otherwise automated script using prompts for the user to follow.
#
###############################################################################

###############################################################################
#
# @!method Given_there_is_jack_inserted
#
# Verify there is, or is not, a jack connected.
#
#       Usage:
#       Given there is no jack inserted
#       Given there is a 4-pole jack inserted
#
###############################################################################
Given( /^there is (no|a? ?4-pole) jack inserted$/ ) do |jack_type|
    case jack_type
    when 'no'
        FruitSalad::get_device.disconnect_jack
    else
        FruitSalad::get_device.connect_jack( true, true )
    end
end

########################### END OF FILE #######################################