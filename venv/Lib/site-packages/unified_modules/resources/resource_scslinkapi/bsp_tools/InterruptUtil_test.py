import unittest
import sys, os
sys.path.append(os.path.join(os.path.dirname(__file__), '..', '_Scripts'))
from .InterruptUtil import InterruptUtil
from .MockWidgets import MockWidgets

class InterruptUtilTest(unittest.TestCase):

    rb0 = MockWidgets.RoundedButton('rounded_button_0')
    rb1 = MockWidgets.RoundedButton('rounded_button_1')
    rb2 = MockWidgets.RoundedButton('rounded_button_2')

    def testTurnOffLeds(self):
        self.rb0.setColorByName('Red')
        self.rb1.setColorByName('Blue')
        self.rb2.setColorByName('Green')
        leds = [self.rb0, self.rb1, self.rb2]

        # make sure leds are on before turning off
        for led in leds:
            self.assertNotEqual(led.getColorByName(), InterruptUtil.OFF_COLOR)
        
        # turn off the leds
        InterruptUtil.turnOffLeds(leds)

        # check if leds are turned off
        for led in leds:
            self.assertEqual(led.getColorByName(), InterruptUtil.OFF_COLOR)
